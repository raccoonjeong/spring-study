# [실습] 블로그 검색창

## 준비

React 프로젝트 생성:

```
npm create vite@latest myblog
```

필요한 라이브러리 설치:

```
cd myblog
npm install
npm install react-router-dom

```

## 1단계: JSON 파일을 불러와 글 목록 출력하기

posts.json

```json
[
  {
    "id": 1,
    "title": "리액트 입문: 컴포넌트 이해하기",
    "content": "컴포넌트는 UI를 쪼개는 최소 단위입니다.",
    "date": "2025-09-01",
    "category": "React"
  },
  {
    "id": 2,
    "title": "자바스크립트 기초: 변수와 스코프",
    "content": "let, const의 차이와 스코프를 이해하면 오류를 줄일 수 있습니다.",
    "date": "2025-09-02",
    "category": "JavaScript"
  }
]
```

PostList.jsx

```jsx
import "./PostList.css";

export default function PostList({ posts }) {
  return (
    <ul className="PostList-wrap">
      {posts.map((p) => (
        <li key={p.id} className="PostList-item">
          <h3>{p.title}</h3>
          <p>{p.content}</p>
          <small>
            {p.date} | {p.category}
          </small>
        </li>
      ))}
    </ul>
  );
}
```

Home.jsx

```jsx
import posts from "../data/posts.json";
import PostList from "../components/PostList";

export default function Home() {
  return (
    <div>
      <h1>블로그 글 목록</h1>
      <PostList posts={posts} />
    </div>
  );
}
```

=> 결과: 모든 글이 리스트로 출력됨.

## 2단계-1: 네비바 만들기 (링크만 있는 상태)

Navbar.jsx

```jsx
import "./Navbar.css";

export default function Navbar() {
  return (
    <header className="Navbar-wrap">
      <h2 className="Navbar-logo">MyBlog</h2>
      <nav className="Navbar-nav">
        <a href="/">All</a>
        <a href="/category/React">React</a>
        <a href="/category/JavaScript">JavaScript</a>
      </nav>
    </header>
  );
}
```

결과: 화면 상단에 단순 링크 메뉴가 생김. 클릭 시 새로고침 발생.

## 2단계-2: React Router 적용하기

App.jsx

```jsx
import { BrowserRouter, Routes, Route } from "react-router-dom";
import Navbar from "./components/Navbar";
import Home from "./pages/Home";

export default function App() {
  return (
    <BrowserRouter>
      <Navbar />
      <Routes>
        <Route path="/" element={<Home />} />
      </Routes>
    </BrowserRouter>
  );
}
```

### Navbar.jsx (링크 교체)

```jsx
import { NavLink } from "react-router-dom";
import "./Navbar.css";

export default function Navbar() {
  return (
    <header className="Navbar-wrap">
      <h2 className="Navbar-logo">MyBlog</h2>
      <nav className="Navbar-nav">
        <NavLink to="/">All</NavLink>
        <NavLink to="/category/React">React</NavLink>
        <NavLink to="/category/JavaScript">JavaScript</NavLink>
      </nav>
    </header>
  );
}
```

결과: 클릭 시 새로고침 없이 화면 전환됨.

### 3단계-1: 카테고리 페이지 만들기

CategoryPage.jsx

```jsx
import { useParams } from "react-router-dom";
import posts from "../data/posts.json";
import PostList from "../components/PostList";

export default function CategoryPage() {
  const { name } = useParams();
  const filtered = posts.filter((p) => p.category === name);

  return (
    <div>
      <h1>{name} 카테고리</h1>
      <PostList posts={filtered} />
    </div>
  );
}
```

App.jsx (라우트 추가)

```jsx
import { BrowserRouter, Routes, Route } from "react-router-dom";
import Navbar from "./components/Navbar";
import Home from "./pages/Home";
import CategoryPage from "./pages/CategoryPage";

export default function App() {
  return (
    <BrowserRouter>
      <Navbar />
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/category/:name" element={<CategoryPage />} />
      </Routes>
    </BrowserRouter>
  );
}
```

결과: “React” 메뉴 클릭 시 React 글만, “JavaScript” 메뉴 클릭 시 JS 글만 보임.

## 3단계-2: 검색창 추가하기

Home.jsx 수정

```jsx
import { useState } from "react";
import posts from "../data/posts.json";
import PostList from "../components/PostList";

export default function Home() {
  const [q, setQ] = useState("");

  const filtered = posts.filter((p) =>
    p.title.toLowerCase().includes(q.toLowerCase())
  );

  return (
    <div>
      <h1>블로그 글 목록</h1>
      <input
        placeholder="제목 검색..."
        value={q}
        onChange={(e) => setQ(e.target.value)}
      />
      <PostList posts={filtered} />
    </div>
  );
}
```

결과: 검색어 입력 시, 제목에 포함된 글만 보임.
